<!doctype html>
<html>
<head>
    <title>Example</title>

    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
</head>

<body>
<div>
    <h1>Example</h1>
    <p>There's a script in this page that alerts the dimensions of the picture <a href="http://localhost/web-landmark-detection/face.jpg">face.jpg</a></p>

    <p>you can get the dimensions of any other image in the same path by executing the following script</p>
    <h2> example: <i><a href="http://localhost/web-landmark-detection/face.jpg">blue.jpg</a></i></h2>
    <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">$.get(<span style="background-color: #fff0f0">&quot;getDimensions.php&quot;</span>, { image<span style="color: #333333">:</span> <span style="background-color: #fff0f0">&quot;blue.jpg&quot;</span>},
  <span style="color: #008800; font-weight: bold">function</span>(data){
    alert(<span style="background-color: #fff0f0">&quot;Data Loaded: &quot;</span> <span style="color: #333333">+</span> data);
  });
</pre></div>


    <p>or consume the webservice by accessing : </p>
    <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #FF0000; background-color: #FFAAAA">http://localhost/web-landmark-detection/getDimensions.php?image=blue.jpg</span>
</pre></div>

</div>

<div>
  <input id="inp" type='file'>
  <input id="get" type="submit">
<p id="b64"></p>
</div>
</body>
<script>

var img64;
function EL(id) { return document.getElementById(id); } // Get el by ID helper function

function readFile() {
  if (this.files && this.files[0]) {
    FR= new FileReader();
    FR.onload = function(e) {
      EL("b64").innerHTML = e.target.result;
      img64=e.target.result;
    };
    FR.readAsDataURL( this.files[0] );
  }
}

EL("inp").addEventListener("change", readFile, false);
EL("get").addEventListener("click", getDim, false);

$( document ).ready(function() {
$.get("../cgi-bin/getDimensions.py", { image: "face.jpg"},
  function(data){
    // alert("Data Loaded: " + data);
  });
});

function getDim() {
  $.get("../cgi-bin/getDimensions.py", { image: img64},
    function(data){
      alert("Data Loaded: " + data);
    });
}
</script>
</html>
